<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="pandoc" />
  <meta name="author" content="TANG ZhiXiong; dvorak4tzx; district10" />
  <meta name="date" content="2016-10-15" />
  <title>&#19968;&#36947;&#35753;&#20154;&#19981;&#29245;&#30340;&#21160;&#24577;&#35268;&#21010;&#39064;</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="jquery-ui.css" type="text/css" />
  <link rel="stylesheet" href="font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="main.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">&#19968;&#36947;&#35753;&#20154;&#19981;&#29245;&#30340;&#21160;&#24577;&#35268;&#21010;&#39064;</h1>
<h3 class="date">2016-10-15</h3>
</div>
<div id="tocbox" class="pokerface">
    <div id="tocboxheader">&#xf03b;</div>
    <div id="tocboxbody">
        <ul>
        <li><a href="#&#19968;&#36947;&#35753;&#20154;&#19981;&#29245;&#30340;&#21160;&#24577;&#35268;&#21010;&#39064;">&#19968;&#36947;&#35753;&#20154;&#19981;&#29245;&#30340;&#21160;&#24577;&#35268;&#21010;&#39064;</a></li>
        </ul>
    </div>
</div>
<div id="navigator" class="pokerface"><a id="gotoindex" href="index.html" title="&#25353;&#19979;&#12304;h&#12305;&#33719;&#21462;&#39029;&#38754;&#24110;&#21161;&#12290;">&#xf015;</a></div>
<h1 id="&#19968;&#36947;&#35753;&#20154;&#19981;&#29245;&#30340;&#21160;&#24577;&#35268;&#21010;&#39064;">&#19968;&#36947;&#35753;&#20154;&#19981;&#29245;&#30340;&#21160;&#24577;&#35268;&#21010;&#39064;</h1>
<p>&#39064;&#30446;&#26159;&#36825;&#26679;&#30340;&#65292;&#19968;&#26465;&#30452;&#32447;&#19978;&#26377;&#19968;&#20123;&#30333;&#33394;&#30340;&#22278;&#12290;&#25105;&#20204;&#20197;&#19977;&#20010;&#22278;&#20026;&#20363;&#65292;&#22914;&#19979;&#22270;&#65306;</p>
<pre><code>O   O   O</code></pre>
<p>&#29616;&#22312;&#35753;&#20320;&#25226;&#21644;&#40657;&#33394;&#19981;&#30456;&#37051;&#30340;&#22278;&#28034;&#25104;&#40657;&#33394;&#12290;&#22240;&#20026;&#27809;&#26377;&#40657;&#33394;&#65292;&#38543;&#24847;&#36873;&#25321;&#19968;&#20010;&#28034;&#25104;&#40657;&#33394;&#65306;</p>
<pre><code>// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#19968;&#20010;
*   O   O

// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
O   *   O

// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#19977;&#20010;
O   O   *</code></pre>
<p>&#25105;&#20204;&#30340;&#30446;&#26631;&#26159;&#28034;&#28034;&#28034;&#65292;&#30452;&#21040;&#19981;&#33021;&#28034;&#20026;&#27490;&#65292;&#26368;&#21518;&#36755;&#20986;&#40657;&#33394;&#22278;&#30340;&#20010;&#25968;&#30340;&#12304;&#25968;&#23398;&#26399;&#26395;&#12305;&#12290;</p>
<p>&#37027;&#25105;&#20204;&#25226;&#19978;&#38754;&#30340;&#24773;&#20917;&#34917;&#20805;&#23436;&#25972;&#65306;</p>
<pre><code>// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#19968;&#20010;
*   O   O

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
    *   *   O

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#19977;&#20010;
    *   O   *

// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
O   *   O

// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#19977;&#20010;
O   O   *

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#19968;&#20010;
    *   O   *

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
    O   *   *</code></pre>
<p>&#36824;&#35201;&#31639;&#25968;&#23398;&#26399;&#26395;&#65292;&#25105;&#25226;&#23427;&#21152;&#19978;&#21435;&#65306;</p>
<pre><code>                                &#27010;&#29575;                &#40657;&#22280;&#25968;&#30446;
// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#19968;&#20010;
*   O   O                       1/3

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
    *   *   O                   1/3 x 1/2           2

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#19977;&#20010;
    *   O   *                   1/3 x 1/2           2

// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
O   *   O                       1/3                 1

// &#31532;&#19968;&#27425;&#65306;&#36873;&#31532;&#19977;&#20010;
O   O   *                       1/3

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#19968;&#20010;
    *   O   *                   1/3 x 1/2           2

    // &#31532;&#20108;&#27425;&#65306;&#36873;&#31532;&#20108;&#20010;
    O   *   *                   1/3 x 1/2           2</code></pre>
<p>&#26399;&#26395;&#20026; E = (1/3)x(1/2)x2 + (1/3)x(1/2)x2 + (1/3)x1 + (1/3)x(1/2)x2 + (1/3)x(1/2)x2 = 5/3&#12290;</p>
<p>&#29616;&#22312;&#36755;&#20837;&#20026;&#19968;&#20010;&#25968; N&#65292;&#27714;&#30528; N &#20010;&#30333;&#22278;&#65292;&#28034;&#40657;&#21518;&#40657;&#33394;&#22278;&#30340;&#26399;&#26395;&#65292;&#27604;&#22914;&#24403; N = 3&#65292;&#36755;&#20986;&#24212;&#20026; 1.6666666666666667&#12290;&#65288;&#21482;&#35201;&#20320;&#30340;&#32467;&#26524;&#30456;&#24046;&#19981;&#36807; 1e-6&#65292;&#23601;&#31639;&#23545;&#12290;&#65289;</p>
<p>&#36153;&#20102;&#20061;&#29275;&#20108;&#34382;&#20043;&#21147;&#65292;&#25105;&#32456;&#20110;&#25226;&#20195;&#30721;&#20889;&#22909;&#20102;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="ot">#include &lt;vector&gt;</span>
<span class="ot">#include &lt;cstdio&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="ot">#define max(a,b) ((a)&gt;(b)?(a):(b))</span>

<span class="dt">double</span> dp(<span class="dt">int</span> n) {
    vector&lt;<span class="dt">double</span>&gt; f(max(<span class="dv">3</span>,n<span class="dv">+1</span>));
    f[<span class="dv">0</span>] = <span class="fl">0.0</span>;
    f[<span class="dv">1</span>] = <span class="fl">1.0</span>;
    f[<span class="dv">2</span>] = <span class="fl">1.0</span>;
    <span class="kw">for</span> (<span class="dt">int</span> i = <span class="dv">3</span>; i &lt;= n; ++i) {
        <span class="dt">double</span> p = <span class="fl">0.0</span>;
        <span class="kw">for</span> (<span class="dt">int</span> j = <span class="dv">0</span>; j &lt;= i<span class="dv">-3</span>; ++j) {
            p += (<span class="fl">1.0</span> + f[j] + f[i - <span class="dv">3</span> - j]);
        }
        p += <span class="fl">2.0</span> * (<span class="dv">1</span> + f[i - <span class="dv">2</span>]);
        f[i] = p/(<span class="dt">double</span>)i;
    }
    <span class="kw">return</span> f[n];
}

<span class="dt">int</span> main()
{
    <span class="kw">while</span>(<span class="dv">1</span> == scanf(<span class="st">&quot;</span><span class="ch">%d</span><span class="st">&quot;</span>, &amp;n)) {
        printf(<span class="st">&quot;</span><span class="ch">%lf\n</span><span class="st">&quot;</span>, dp(n));
    }
}</code></pre></div>
<p>&#22909;&#24320;&#24515;&#65281;&#36825;&#22909;&#20687;&#26159;&#25105;&#23454;&#25112;&#20013;&#31532;&#19968;&#27425;&#20570;&#23545;&#21160;&#24577;&#35268;&#21010;&#12290;&#65288;&#22914;&#26524;&#23545;&#30340;&#35805;&#12290;&#65289;</p>
<hr />
<p>&#20294;&#26159;&#65292;&#22312;&#26368;&#21518;&#20960;&#20998;&#38047;&#65292;&#25105;&#25552;&#20132;&#22833;&#36133;&#20102;&#12290;&#22240;&#20026;&#25105;&#29305;&#20040;&#25226;&#20195;&#30721;&#25552;&#20132;&#21040;&#31532;&#19977;&#39064;&#20102;&#8230;&#8230;</p>
<p>&#20026;&#20160;&#20040; AtCoder &#36825;&#20040;&#34507;&#30140;&#12290;&#25105;&#24050;&#32463;&#24178;&#20102;&#22909;&#20960;&#27425;&#36825;&#26679;&#30340;&#34850;&#20107;&#20102;&#12290;</p>
<div class="figure">
<img src="http://whudoc.qiniudn.com/2016/2016-10-15_21-04-33.png" />

</div>
<hr />
<blockquote>
<p>&#8220;&#20174;&#23567;&#23601;&#31895;&#24515;&#12290;&#8221;</p>
<p>&#8220;&#22920;&#30340;&#20667;&#36924;&#19981;&#38271;&#35760;&#24615;&#12290;&#27963;&#35813;&#65281;&#8221;</p>
</blockquote>
<p>&#19981;&#33021;&#24320;&#24515;&#20102;.</p>
<ul class="tzx-tags-group">
<li><a class="tzx-tag" href="tags.html/#dp">dp</a></li>
<li><a class="tzx-tag" href="tags.html/#algo">algo</a></li>
</ul>

<div class="tzx-changes"><select id="tzx-changes" title="&#21382;&#21490;&#29256;&#26412;">
<option value="https://raw.githubusercontent.com/district10/blog/5a7d1f7d62a5cd8a23e9aaa6609f69393870e372/_posts/post-0120-dp-shit.md" title="14 insertions(+), 12 deletions(-)">1480428507</option>
<option value="https://raw.githubusercontent.com/district10/blog/b08a696f534c650b0d7fccc3b0b1d7d0d68c6d3d/_posts/post-0120-dp-shit.md" title="139 insertions(+), 0 deletions(-)">1480083296</option>
</select></div>

<script>
var tzxFilename = "_posts/post-0120-dp-shit.md";
var tzxChanges = [
    {
        hash: "5a7d1f7d62a5cd8a23e9aaa6609f69393870e372",
        datetime: "1480428507",
        insertions: 14,
        deletions: 12
    },
    {
        hash: "b08a696f534c650b0d7fccc3b0b1d7d0d68c6d3d",
        datetime: "1480083296",
        insertions: 139,
        deletions: 0
    },
];
</script>

<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="jquery-ui.min.js"></script>
<script type="text/javascript" src="clappr.min.js"></script>
<script type="text/javascript" src="lazyload.min.js"></script>
<script type="text/javascript" src="egg.min.js"></script>
<script type="text/javascript" src="moment.min.js"></script>
<script type="text/javascript" src="clipboard.min.js"></script>
<script type="text/javascript" src="main.js"></script>
<hr style="color: #9ddcff;"/>
<div id="copyright">TANG ZhiXiong, 2017.  Generated by Pandoc on Travis CI. <a  href="https://github.com/district10/blog">Fork Me on GitHub.</a></div>
<div id="comments" class="comments-area">
    <div><span id="showDisqus" title="&#27426;&#36814;&#20132;&#27969;">&#12300;Load Disqus | &#21152;&#36733;&#35780;&#35770;&#12301;</span></div>
    <div id="disqus_thread"></div>
</div>
</body>
</html>
